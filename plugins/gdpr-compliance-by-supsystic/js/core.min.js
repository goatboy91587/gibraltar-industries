
if(typeof(GRS_DATA)=="undefined"){var GRS_DATA={}}if(isNumber(GRS_DATA.animationSpeed)){GRS_DATA.animationSpeed=parseInt(GRS_DATA.animationSpeed)}else{if(jQuery.inArray(GRS_DATA.animationSpeed,["fast","slow"])==-1){GRS_DATA.animationSpeed="fast"}}GRS_DATA.showSubscreenOnCenter=parseInt(GRS_DATA.showSubscreenOnCenter);var sdLoaderImgGrs='<img src="'+GRS_DATA.loader+'" />';var g_grsAnimationSpeed=300;jQuery.fn.showLoaderGrs=function(){return jQuery(this).html(sdLoaderImgGrs)};jQuery.fn.appendLoaderGrs=function(){jQuery(this).append(sdLoaderImgGrs)};jQuery.sendFormGrs=function(a){return jQuery("<br />").sendFormGrs(a)};jQuery.fn.sendFormGrs=function(e){var b=null;if(!e){e={fid:false,msgElID:false,onSuccess:false}}if(e.fid){b=jQuery("#"+fid)}else{b=jQuery(this)}var c=(jQuery(b).tagName()=="FORM");var f=new Array();if(e.data){f=e.data}else{if(c){f=jQuery(b).serialize()}}if(e.appendData){var h=typeof(f)=="string";var k=[];for(var g in e.appendData){if(h){k.push(g+"="+e.appendData[g])}else{f[g]=e.appendData[g]}}if(h){f+="&"+k.join("&")}}var d=null;if(e.msgElID){if(e.msgElID=="noMessages"){d=false}else{if(typeof(e.msgElID)=="object"){d=e.msgElID}else{d=jQuery("#"+e.msgElID)}}}if(typeof(e.inputsWraper)=="string"){b=jQuery("#"+e.inputsWraper);c=true}if(c&&b){jQuery(b).find("*").removeClass("grsInputError")}if(d&&!e.btn){jQuery(d).removeClass("grsSuccessMsg").removeClass("grsErrorMsg");if(!e.btn){jQuery(d).showLoaderGrs()}}if(e.btn){jQuery(e.btn).attr("disabled","disabled");e.btnIconElement=jQuery(e.btn).find(".fa").length?jQuery(e.btn).find(".fa"):jQuery(e.btn);if(jQuery(e.btn).find(".fa").length){e.btnIconElement.data("prev-class",e.btnIconElement.attr("class")).attr("class","fa fa-spinner fa-spin")}}var a="";if(typeof(e.url)!="undefined"){a=e.url}else{if(typeof(ajaxurl)=="undefined"||typeof(ajaxurl)!=="string"){a=GRS_DATA.ajaxurl}else{a=ajaxurl}}jQuery(".grsErrorForField").hide(GRS_DATA.animationSpeed);var j=e.dataType?e.dataType:"json";if(typeof(f)=="string"){f+="&pl="+GRS_DATA.GRS_CODE;f+="&reqType=ajax"}else{f.pl=GRS_DATA.GRS_CODE;f.reqType="ajax"}jQuery.ajax({url:a,data:f,type:"POST",dataType:j,success:function(i){toeProcessAjaxResponseGrs(i,d,b,c,e);if(e.clearMsg){setTimeout(function(){if(d){jQuery(d).animateClear()}},typeof(e.clearMsg)=="boolean"?5000:e.clearMsg)}}})};jQuery.fn.animateClear=function(){var a=jQuery("<span>"+jQuery(this).html()+"</span>");jQuery(this).html(a);jQuery(a).hide(GRS_DATA.animationSpeed,function(){jQuery(a).remove()})};jQuery.fn.animateRemoveGrs=function(a,b){a=a==undefined?GRS_DATA.animationSpeed:a;jQuery(this).hide(a,function(){jQuery(this).remove();if(typeof(b)==="function"){b()}})};function toeProcessAjaxResponseGrs(h,e,c,d,f){if(typeof(f)=="undefined"){f={}}if(typeof(e)=="string"){e=jQuery("#"+e)}if(e){jQuery(e).html("")}if(f.btn){jQuery(f.btn).removeAttr("disabled");if(f.btnIconElement){f.btnIconElement.attr("class",f.btnIconElement.data("prev-class"))}}if(typeof(h)=="object"){if(h.error){if(e){jQuery(e).removeClass("grsSuccessMsg").addClass("grsErrorMsg")}var j=[];for(var a in h.errors){if(d){var b=jQuery(c).find('[name*="'+a+'"]');b.addClass("grsInputError");if(b.attr("placeholder")){}if(!b.data("keyup-error-remove-binded")){b.keydown(function(){jQuery(this).removeClass("grsInputError")}).data("keyup-error-remove-binded",1)}}if(jQuery(".grsErrorForField.toe_"+nameToClassId(a)+"").exists()){jQuery(".grsErrorForField.toe_"+nameToClassId(a)+"").show().html(h.errors[a])}else{if(e){jQuery(e).append(h.errors[a]).append("<br />")}else{j.push(h.errors[a])}}}if(j.length&&f.btn&&jQuery.fn.dialog&&!e){jQuery('<div title="'+toeLangGrs("Really small warning :)")+'" />').html(j.join("<br />")).appendTo("body").dialog({modal:true,width:"500px"})}}else{if(h.messages.length){if(e){jQuery(e).removeClass("grsErrorMsg").addClass("grsSuccessMsg");for(var g=0;g<h.messages.length;g++){jQuery(e).append(h.messages[g]).append("<br />")}}}}}if(f.onSuccess&&typeof(f.onSuccess)=="function"){f.onSuccess(h)}}function getDialogElementGrs(){return jQuery("<div/>").appendTo(jQuery("body"))}function toeOptionGrs(a){if(GRS_DATA.options&&GRS_DATA.options[a]){return GRS_DATA.options[a]}return false}function toeLangGrs(a){if(GRS_DATA.siteLang&&GRS_DATA.siteLang[a]){return GRS_DATA.siteLang[a]}return a}function toePagesGrs(a){if(typeof(GRS_DATA)!="undefined"&&GRS_DATA[a]){return GRS_DATA[a]}return false}function toeOptTimeoutHideDescriptionGrs(){jQuery("#grsOptDescription").removeAttr("toeFixTip");setTimeout(function(){if(!jQuery("#grsOptDescription").attr("toeFixTip")){toeOptHideDescriptionGrs()}},500)}function toeOptShowDescriptionGrs(b,a,d,c){if(typeof(b)!="undefined"&&b!=""){if(!jQuery("#grsOptDescription").length){jQuery("body").append('<div id="grsOptDescription"></div>')}if(c){jQuery("#grsOptDescription").css("right",jQuery(window).width()-(a-10))}else{jQuery("#grsOptDescription").css("left",a+10)}jQuery("#grsOptDescription").css("top",d);jQuery("#grsOptDescription").show(200);jQuery("#grsOptDescription").html(b)}}function toeOptHideDescriptionGrs(){jQuery("#grsOptDescription").removeAttr("toeFixTip");jQuery("#grsOptDescription").hide(200)}function toeInArrayGrs(c,b){if(b){for(var a in b){if(b[a]==c){return true}}}return false}function toeShowDialogCustomized(b,a){a=jQuery.extend({resizable:false,width:500,height:300,closeOnEscape:true,open:function(c,d){jQuery(".ui-dialog-titlebar").css({"background-color":"#222222","background-image":"none",border:"none",margin:"0",padding:"0","border-radius":"0",color:"#CFCFCF",height:"27px"});jQuery(".ui-dialog-titlebar-close").css({background:'url("'+GRS_DATA.cssPath+'img/tb-close.png") no-repeat scroll 0 0 transparent',border:"0",width:"15px",height:"15px",padding:"0","border-radius":"0",margin:"7px 7px 0"}).html("");jQuery(".ui-dialog").css({"border-radius":"3px","background-color":"#FFFFFF","background-image":"none",padding:"1px","z-index":"300000",position:"fixed",top:"60px"});jQuery(".ui-dialog-buttonpane").css({"background-color":"#FFFFFF"});jQuery(".ui-dialog-title").css({color:"#CFCFCF",font:"12px sans-serif",padding:"6px 10px 0"});if(a.openCallback&&typeof(a.openCallback)=="function"){a.openCallback(c,d)}jQuery(".ui-widget-overlay").css({"z-index":jQuery(c.target).parents(".ui-dialog:first").css("z-index")-1,"background-image":"none"});if(a.modal&&a.closeOnBg){jQuery(".ui-widget-overlay").unbind("click").bind("click",function(){jQuery(b).dialog("close")})}}},a);return jQuery(b).dialog(a)}function toeSliderMove(a,b){var c=jQuery(a.target).attr("id");jQuery("#toeSliderDisplay_"+c).html(b.value);jQuery("#toeSliderInput_"+c).val(b.value).change()}function grsCorrectJqueryUsed(){return(typeof(jQuery.fn.sendFormGrs)==="function")}function grsReloadCoreJs(d,e){var c="",b=["common.js","core.js"];for(var a=0;a<b.length;a++){c+='<script type="text/javascript" class="grsReloadedScript" src="'+GRS_DATA.jsPath+b[a]+'"><\/script>'}jQuery("head").append(c);if(d){_grsRunClbAfterCoreReload(d,e)}}function _grsRunClbAfterCoreReload(a,b){if(grsCorrectJqueryUsed()){callUserFuncArray(a,b);return}setTimeout(function(){grsCorrectJqueryUsed(a,b)},500)};